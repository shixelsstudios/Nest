define(["jquery","kalendar","hbs!templates/quote","backbone","models/Model","marionette"],function($,e,t,a,o){return a.Marionette.ItemView.extend({template:t,airports:null,events:{"keyup .to_dest":"getAirport","click .more-info":"MoreInfo","click .toggle_trip":"toggleTrip","click .request-quote-button":"sendQuote"},initialize:function(e){},onRender:function(){nest.api.core.cleanView(this,".quote-menu");var e={events:[],firstDayOfWeek:"Monday",showDays:!0,onDayClick:function(e){$(".to_cal .c-day").removeClass("this-day"),$(e.currentTarget).addClass("this-day"),console.log("The Date Object "+e.data.date+" and it’s "+e.data.info)}},t={events:[],firstDayOfWeek:"Monday",showDays:!0,onDayClick:function(e){$(".from_cal .c-day").removeClass("this-day"),$(e.currentTarget).addClass("this-day"),console.log("The Date Object "+e.data.date+" and it’s "+e.data.info)}};setTimeout(function(){$(".to_cal").kalendar(e),$(".from_cal").kalendar(t),$("#slider-range-max").slider({range:"max",min:1,max:20,value:2,slide:function(e,t){$("#amount").val(t.value)}}),$("#amount").val($("#slider-range-max").slider("value"))},500)},getAirports:function(e){var t=this;return this.airports||$.ajax({url:"https://raw.githubusercontent.com/jbrooksuk/JSON-Airports/master/airports.json",type:"GET",async:!1,success:function(e){t.airports=JSON.parse(e)}}),this.airports},getAirport:function(e){e.preventDefault();var t=this;this.getAirports(),$("#autocomplete").autocomplete({source:function(e,a){var o=e.term.toLowerCase(),n=[];console.log(t.airports),$.each(t.airports,function(e,t){t.name&&t.iata&&(-1!==t.iata.toLowerCase().indexOf(o)||0===t.name.toLowerCase().indexOf(o))&&n.push(t.name+" - "+t.iata)}),a(n)}})},MoreInfo:function(e){e.preventDefault();var t=$(e.currentTarget).data("hash");window.location.hash=t},toggleTrip:function(e){$(".to_dest").toggle(),$(".to_cal").toggle()},sendQuote:function(e){e.preventDefault(),$(".quote-wait").show(),setTimeout(function(){$(".quote-wait").hide(),$(".quote-message").show()},1e3)}})});